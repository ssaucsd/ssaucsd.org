---
import Layout from "@/layouts/Layout.astro";
import Breadcrumb from "@/components/Breadcrumb.astro";
import EventCard from "@/components/EventCard.astro";
import { getAllEvents } from "@/lib/supabase";
import { CalendarX } from "lucide-react";

const events = await getAllEvents();
---

<Layout
  title="Upcoming Events | SSA at UCSD"
  description="Explore upcoming classical music concerts, recitals, and social gatherings hosted by SSA at UCSD. Join the largest student-run classical music organization at UC San Diego."
>
  <div class="w-full py-12 md:py-24 px-6 bg-background">
    <div class="w-3/4 mx-auto flex flex-col gap-16">
      <div class="flex flex-col gap-4 items-start text-left">
        <Breadcrumb items={[{ name: "Events" }]} className="mb-2" />
        <h1 class="text-5xl font-black">Upcoming Events</h1>
        <p class="text-xl text-muted-foreground max-w-2xl">
          Check out what we have planned.
        </p>
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        {events.length > 0 ? (
          events.map((event) => <EventCard {...event} />)
        ) : (
          <div class="col-span-full flex flex-col items-center justify-center gap-4 py-12 text-muted-foreground">
            <CalendarX className="w-12 h-12" />
            <p class="text-xl font-medium">No upcoming events :(</p>
          </div>
        )}
      </div>
    </div>
  </div>
</Layout>
